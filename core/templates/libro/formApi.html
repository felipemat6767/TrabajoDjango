
<!DOCTYPE html>
<html lang="en">
    {% load static %} 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'core/css/estilos.css' %}">  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
   <div class = "container ">
        <h2>Listado de personajes </h2>
        <div class = "row" id = "usuarios"></div>
        <h2>Comentarios  </h2>
        <div class = "row" id = "comentario"></div>
   </div>
   <script>
        $(document).ready(function()
            {const URL = "https://randomuser.me/api/";
             const URLComentario = "https://jsonplaceholder.typicode.com//comments";
            var id_usuarios = $("#usuarios");
            function addUsuarios(usuario){
                id_usuarios.append(
                    `<div class = "col-md-4">
                        <div class= "card" style= "width: 18rem;">
                            <img src= ${usuario.picture.medium} class= "card-img-top" alt="..."> 
                            <div class= "card-body"   
                                <h4 class= "card-title">${usuario.name.first} ${usuario.name.last}</h4>
                                
                                <p class= "card-text">${usuario.gender}</p>  
                                <p class= "card-text">${usuario.email}</p>   
                            </div>      
                        </div>
                    </div>          
                    `   
                )
              } 
              function obtenerDatos(){
                $.ajax({
                    url:URL,
                    method: "GET",
                    success: function(data){
                        console.log(data.results);
                        var usuarios = data.results;
                        usuarios.forEach(addUsuarios);
                    }
                }) 
            }
            
              function obtenerDatos(){
                $.ajax({
                    url:URL,
                    method: "GET",
                    success: function(data){
                        console.log(data.results);
                        var usuarios = data.results;
                        usuarios.forEach(addUsuarios);
                    }
                }) 
            }
           obtenerDatos();
           }    
      )

      fetch('https://jsonplaceholder.typicode.com/posts/3/comments')
      .then(res => {return res.json()
        })
      .then(data => {data.forEach(user=>{
        const comentario = `<p class= "card-text">${user.body}</p>` 
        document.getElementById('comentario').insertAdjacentHTML('beforeEnd',comentario)
      } )
      })
       
   </script>
</body>
</html>